{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/bishwas/Documents/workplace/SoftwareArchitecture/MERN_ECOMMERCE_APP/components/Product/ProductAttributes.js\";\nvar __jsx = React.createElement;\nimport { Header, Button, Modal } from 'semantic-ui-react';\nimport baseUrl from '../../utils/baseUrl';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\nimport React from 'react';\n\nfunction ProductAttributes(_ref) {\n  var description = _ref.description,\n      _id = _ref._id,\n      user = _ref.user;\n  var isAdminOrRoot = user && (user.role === 'root' || user.role === 'admin');\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      modal = _React$useState2[0],\n      setModal = _React$useState2[1];\n\n  var router = useRouter();\n\n  function handleDelete() {\n    var url, payload;\n    return _regeneratorRuntime.async(function handleDelete$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            url = \"\".concat(baseUrl, \"/api/product\");\n            payload = {\n              params: {\n                _id: _id\n              }\n            };\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(axios[\"delete\"](url, payload));\n\n          case 4:\n            router.push(\"/\");\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Header, {\n    as: \"h3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 6\n    }\n  }, \"About this product\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 6\n    }\n  }, description), isAdminOrRoot && __jsx(React.Fragment, null, __jsx(Button, {\n    icon: \"trash alternate outline\",\n    color: \"red\",\n    content: \"Delete product\",\n    onClick: function onClick() {\n      return setModal(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 6\n    }\n  }), __jsx(Modal, {\n    open: modal,\n    dimmer: \"blurring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 6\n    }\n  }, __jsx(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 8\n    }\n  }, \"Confirm Delete\"), __jsx(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 8\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 10\n    }\n  }, \"Are you sure you want to delete this item?\")), __jsx(Modal.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 8\n    }\n  }, __jsx(Button, {\n    onClick: function onClick() {\n      return setModal(false);\n    },\n    content: \"Cancel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 10\n    }\n  }), __jsx(Button, {\n    negative: true,\n    icon: \"trash\",\n    content: \"Delete\",\n    labelPosition: \"right\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 10\n    }\n  })))));\n}\n\nexport default ProductAttributes;","map":{"version":3,"sources":["/Users/bishwas/Documents/workplace/SoftwareArchitecture/MERN_ECOMMERCE_APP/components/Product/ProductAttributes.js"],"names":["Header","Button","Modal","baseUrl","axios","useRouter","React","ProductAttributes","description","_id","user","isAdminOrRoot","role","useState","modal","setModal","router","handleDelete","url","payload","params","push"],"mappings":";;;;AAAA,SAAQA,MAAR,EAAeC,MAAf,EAAuBC,KAAvB,QAAmC,mBAAnC;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,SAASC,iBAAT,OAAmD;AAAA,MAAvBC,WAAuB,QAAvBA,WAAuB;AAAA,MAAXC,GAAW,QAAXA,GAAW;AAAA,MAAPC,IAAO,QAAPA,IAAO;AAC7C,MAAMC,aAAa,GAACD,IAAI,KAAKA,IAAI,CAACE,IAAL,KAAY,MAAZ,IAAsBF,IAAI,CAACE,IAAL,KAAY,OAAvC,CAAxB;;AAD6C,wBAE1BN,KAAK,CAACO,QAAN,CAAe,KAAf,CAF0B;AAAA;AAAA,MAE1CC,KAF0C;AAAA,MAEpCC,QAFoC;;AAGjD,MAAMC,MAAM,GAACX,SAAS,EAAtB;;AACA,WAAeY,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,YAAAA,GADR,aACiBf,OADjB;AAEQgB,YAAAA,OAFR,GAEkB;AAAEC,cAAAA,MAAM,EAAE;AAAEX,gBAAAA,GAAG,EAAHA;AAAF;AAAV,aAFlB;AAAA;AAAA,6CAGQL,KAAK,UAAL,CAAac,GAAb,EAAkBC,OAAlB,CAHR;;AAAA;AAIEH,YAAAA,MAAM,CAACK,IAAP,CAAY,GAAZ;;AAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMA,SAAQ,4BACL,MAAC,MAAD;AAAQ,IAAA,EAAE,EAAC,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADK,EAEL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIb,WAAJ,CAFK,EAGJG,aAAa,IACd,4BACA,MAAC,MAAD;AACG,IAAA,IAAI,EAAC,yBADR;AAEG,IAAA,KAAK,EAAC,KAFT;AAGG,IAAA,OAAO,EAAC,gBAHX;AAIG,IAAA,OAAO,EAAE;AAAA,aAAII,QAAQ,CAAC,IAAD,CAAZ;AAAA,KAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAQA,MAAC,KAAD;AAAO,IAAA,IAAI,EAAED,KAAb;AAAoB,IAAA,MAAM,EAAC,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE,MAAC,KAAD,CAAO,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDADF,CAFF,EAOE,MAAC,KAAD,CAAO,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAE;AAAA,aAAIC,QAAQ,CAAC,KAAD,CAAZ;AAAA,KAAjB;AAAsC,IAAA,OAAO,EAAC,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,MAAD;AACC,IAAA,QAAQ,MADT;AAEC,IAAA,IAAI,EAAC,OAFN;AAGC,IAAA,OAAO,EAAC,QAHT;AAIC,IAAA,aAAa,EAAC,OAJf;AAKC,IAAA,OAAO,EAAEE,YALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAPF,CARA,CAJK,CAAR;AAmCD;;AAED,eAAeV,iBAAf","sourcesContent":["import {Header,Button, Modal} from 'semantic-ui-react';\nimport baseUrl from '../../utils/baseUrl';\nimport axios from 'axios';\nimport {useRouter} from 'next/router';\nimport React from 'react';\nfunction ProductAttributes({description,_id,user}) {\n      const isAdminOrRoot=user && (user.role==='root' || user.role==='admin');\n  const [modal,setModal]=React.useState(false);\n  const router=useRouter();\n  async function handleDelete() {\n    const url = `${baseUrl}/api/product`;\n    const payload = { params: { _id } };\n    await axios.delete(url, payload);\n    router.push(\"/\");\n  }\n  return (<>\n     <Header as=\"h3\">About this product</Header>\n     <p>{description}</p>\n     {isAdminOrRoot &&\n     <>\n     <Button \n        icon=\"trash alternate outline\" \n        color=\"red\"\n        content=\"Delete product\"\n        onClick={()=>setModal(true)}\n\n     />\n     <Modal open={modal} dimmer=\"blurring\">\n       <Modal.Header>Confirm Delete</Modal.Header>\n       <Modal.Content>\n         <p>\n           Are you sure you want to delete this item?\n         </p>\n       </Modal.Content>\n       <Modal.Actions>\n         <Button onClick={()=>setModal(false)} content=\"Cancel\"/>\n         <Button \n          negative\n          icon=\"trash\"\n          content=\"Delete\"\n          labelPosition=\"right\"\n          onClick={handleDelete}\n          />\n       </Modal.Actions>\n\n     </Modal>\n     \n     </>}\n\n  </>);\n}\n\nexport default ProductAttributes;\n"]},"metadata":{},"sourceType":"module"}